<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">
	<Script file="MessageTemplates/SaleMessageTemplate.lua"/>
	<Include file="MessageTemplates/SaleButtonTemplate.xml"/>>
	<Frame name="SaleMessageTemplate" inherits="MessageTemplate" virtual="true" mixin="SaleMessageTemplateMixin">
		<Layers>
			<Layer level="BORDER">
				<FontString name="$parentPrefixFontString" inherits="GameFontNormalLeft" text="Prefix:">
					<Anchors>
						<Anchor point="TOPLEFT" x="7" y="-11"/>
					</Anchors>
				</FontString>
				<FontString name="$parentSuffixFontString" inherits="GameFontNormalLeft" text="Suffix:">
					<Anchors>
						<Anchor point="BOTTOMLEFT" x="7" y="11"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<EditBox name="$parentPrefixEditBox" parentKey="PrefixEditBox" inherits="InputBoxTemplate" autoFocus="false">
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parentPrefixFontString" x="5"/>
					<Anchor point="RIGHT" x="-5"/>
				</Anchors>
				<Size y="22"/>
				<Scripts>
					<OnTextChanged>
						if userInput then
							self:GetParent().message.content.prefix = self:GetText()
						end
					</OnTextChanged>
				</Scripts>
			</EditBox>
			<EditBox name="$parentSuffixEditBox" parentKey="SuffixEditBox" inherits="InputBoxTemplate" autoFocus="false">
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parentSuffixFontString" x="5"/>
					<Anchor point="RIGHT" x="-5"/>
				</Anchors>
				<Size x="100" y="22"/>
				<Scripts>
					<OnTextChanged>
						if userInput then
							self:GetParent().message.content.suffix = self:GetText()
						end
					</OnTextChanged>
				</Scripts>
			</EditBox>
			<ScrollFrame name="$parentSaleScrollFrame" parentKey="SaleScrollFrame" inherits="FauxScrollFrameTemplate">
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="$parentPrefixEditBox" y="-2"/>
					<Anchor point="LEFT"  x="7" />
					<Anchor point="RIGHT" x="-27"/>
					<Anchor point="BOTTOM" relativePoint="TOP" relativeTo="$parentSuffixEditBox" y="2" />
				</Anchors>
				<Scripts>
					<OnScrollRangeChanged function="ScrollFrame_OnScrollRangeChanged"/>
					<OnVerticalScroll>
						FauxScrollFrame_OnVerticalScroll(self, offset, self:GetParent():GetRowHeight(), function() 
							self:GetParent():Update()
						end);
					</OnVerticalScroll>
				</Scripts>
			</ScrollFrame>
		</Frames>
	</Frame>
</Ui>