<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">
	<Script file="MessageTypeTemplates.lua"/>
	<Frame name="MessageTypeTemplate" virtual="true" mixin="MessageTypeTemplateMixin">
		<Backdrop bgFile="Interface\TutorialFrame\TutorialFrameBackground" edgeFile="Interface\DialogFrame\UI-DialogBox-Border" tile="true" alphaMode="BLEND">
			<EdgeSize>
				<AbsValue val="16"/>
			</EdgeSize>
			<TileSize>
				<AbsValue val="16"/>
			</TileSize>
			<BackgroundInsets>
				<AbsInset left="5" right="5" top="5" bottom="5"/>
			</BackgroundInsets>
		</Backdrop>
	</Frame>
	<Frame name="BasicMessageTypeTemplate" inherits="MessageTypeTemplate" virtual="true" mixin="BasicMessageTypeTemplateMixin">
		<Size y="85"/>
		<Frames>
			<ScrollFrame name="$parentMessageScrollFrame" parentKey="MessageScrollFrame" inherits="UIPanelScrollFrameTemplate">
				<Anchors>
					<Anchor point="TOPLEFT" x="5" y="-5"/>
					<Anchor point="RIGHT" x="-27"/>
				</Anchors>
				<ScrollChild>
					<EditBox name="$parentMessageEditBox" parentKey="MessageEditBox" multiLine="true" autoFocus="false">
						<Scripts>
							<OnLoad>
								ScrollingEdit_OnCursorChanged(self, 0, 0, 0, 0);
							</OnLoad>
							<OnTextChanged>
								self:GetParent():GetParent():OnTextChanged()
								ScrollingEdit_OnTextChanged(self, self:GetParent());
							</OnTextChanged>
							<OnCursorChanged function="ScrollingEdit_OnCursorChanged"/>
							<OnUpdate>
								ScrollingEdit_OnUpdate(self, elapsed, self:GetParent());
							</OnUpdate>
							<OnEscapePressed function="EditBox_ClearFocus"/>
						</Scripts>
						<FontString inherits="GameFontHighlight"/>
					</EditBox>
				</ScrollChild>
			</ScrollFrame>
		</Frames>
	</Frame>
	<Frame name="SaleMessageTypeTemplate" inherits="MessageTypeTemplate" virtual="true" mixin="SaleMessageTypeTemplateMixin">		
		<Layers>
			<Layer level="BORDER">
				<FontString name="$parentPrefixFontString" inherits="GameFontNormalLeft" text="Prefix:">
					<Anchors>
						<Anchor point="TOPLEFT" x="7" y="-11"/>
					</Anchors>
				</FontString>
				<FontString name="$parentSuffixFontString" inherits="GameFontNormalLeft" text="Suffix:">
					<Anchors>
						<Anchor point="BOTTOMLEFT" x="7" y="11"/>
					</Anchors>
				</FontString>
			</Layer>
		</Layers>
		<Frames>
			<EditBox name="$parentPrefixEditBox" parentKey="PrefixEditBox" inherits="InputBoxTemplate" autoFocus="false">
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parentPrefixFontString" x="5"/>
					<Anchor point="RIGHT" x="-5"/>
				</Anchors>
				<Size y="22"/>
			</EditBox>
			<EditBox name="$parentSuffixEditBox" parentKey="SuffixEditBox" inherits="InputBoxTemplate" autoFocus="false">
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parentSuffixFontString" x="5"/>
					<Anchor point="RIGHT" x="-5"/>
				</Anchors>
				<Size x="100" y="22"/>
			</EditBox>
			<ScrollFrame name="$parentSaleScrollFrame" parentKey="SaleScrollFrame" inherits="FauxScrollFrameTemplate">
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeTo="$parentPrefixEditBox" y="-2"/>
					<Anchor point="LEFT"  x="7" />
					<Anchor point="RIGHT" x="-27"/>
					<Anchor point="BOTTOM" relativePoint="TOP" relativeTo="$parentSuffixEditBox" y="2" />
				</Anchors>
				<Layers>
					<Layer level="ARTWORK">
						<Texture file="Interface\PaperDollInfoFrame\UI-Character-ScrollBar">
							<Size x="31" y="256"/>
							<Anchors>
								<Anchor point="TOPLEFT" relativePoint="TOPRIGHT" x="-2" y="5"/>
							</Anchors>
							<TexCoords left="0" right="0.484375" top="0" bottom="1.0"/>
						</Texture>
						<Texture file="Interface\PaperDollInfoFrame\UI-Character-ScrollBar">
							<Size x="31" y="106"/>
							<Anchors>
								<Anchor point="BOTTOMLEFT" relativePoint="BOTTOMRIGHT" x="-2" y="-2"/>
							</Anchors>
							<TexCoords left="0.515625" right="1.0" top="0" bottom="0.4140625"/>
						</Texture>
					</Layer>
				</Layers>
				<Scripts>
					<OnScrollRangeChanged function="ScrollFrame_OnScrollRangeChanged"/>
					<OnVerticalScroll>
						FauxScrollFrame_OnVerticalScroll(self, offset, self:GetParent():GetRowHeight(), function() 
							self:GetParent():Update()
						end);
					</OnVerticalScroll>
				</Scripts>
			</ScrollFrame>
		</Frames>
	</Frame>
	<Button name="SaleButtonTemplate" virtual="true" mixin="SaleButtonTemplateMixin">
		<Size y="37"/>
		<Layers>
			<Layer level="BACKGROUND">
				<FontString name="$parentName" parentKey="Name" inherits="GameFontNormal" justifyH="LEFT">
					<Size>
						<AbsDimension x="142" y="28"/>
					</Size>
					<Anchors>
						<Anchor point="TOPLEFT">
							<Offset>
								<AbsDimension x="43" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</FontString>
				<Texture name="$parentLeft" file="Interface\AuctionFrame\UI-AuctionItemNameFrame">
					<Size>
						<AbsDimension x="10" y="32"/>
					</Size>
					<Anchors>
						<Anchor point="LEFT">
							<Offset>
								<AbsDimension x="34" y="2"/>
							</Offset>
						</Anchor>
					</Anchors>
					<TexCoords left="0" right="0.078125" top="0" bottom="1.0"/>
				</Texture>
				<Texture name="$parentRight" file="Interface\AuctionFrame\UI-AuctionItemNameFrame">
					<Size>
						<AbsDimension x="10" y="32"/>
					</Size>
					<Anchors>
						<Anchor point="RIGHT">
							<Offset>
								<AbsDimension x="0" y="2"/>
							</Offset>
						</Anchor>
					</Anchors>
					<TexCoords left="0.75" right="0.828125" top="0" bottom="1.0"/>
				</Texture>
				<Texture file="Interface\AuctionFrame\UI-AuctionItemNameFrame">
					<Size>
						<AbsDimension x="10" y="32"/>
					</Size>
					<Anchors>
						<Anchor point="LEFT" relativeTo="$parentLeft" relativePoint="RIGHT">
							<Offset>
								<AbsDimension x="0" y="0"/>
							</Offset>
						</Anchor>
						<Anchor point="RIGHT" relativeTo="$parentRight" relativePoint="LEFT">
							<Offset>
								<AbsDimension x="0" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
					<TexCoords left="0.078125" right="0.75" top="0" bottom="1.0"/>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Button name="$parentItem" parentKey="Item">
				<Size>
					<AbsDimension x="32" y="32"/>
				</Size>
				<Anchors>
					<Anchor point="TOPLEFT">
						<Offset>
							<AbsDimension x="0" y="0"/>
						</Offset>
					</Anchor>
				</Anchors>
				<Layers>
					<Layer level="BORDER">
						<Texture name="$parentIconTexture" parentKey="IconTexture"/>
						<FontString name="$parentCount" inherits="NumberFontNormal" justifyH="RIGHT" hidden="true">
							<Anchors>
								<Anchor point="BOTTOMRIGHT">
									<Offset>
										<AbsDimension x="-5" y="2"/>
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
						<FontString name="$parentStock" inherits="NumberFontNormalYellow" justifyH="LEFT" hidden="true">
							<Anchors>
								<Anchor point="TOPLEFT">
									<Offset>
										<AbsDimension x="0" y="-2"/>
									</Offset>
								</Anchor>
							</Anchors>
						</FontString>
					</Layer>
					<Layer level="OVERLAY">
						<Texture parentKey="IconBorder" file="Interface\Common\WhiteIconFrame" hidden="true">
							<Size x="32" y="32"/>
							<Anchors>
								<Anchor point="CENTER"/>
							</Anchors>
						</Texture>
					</Layer>
					<Layer level="OVERLAY" textureSubLevel="1">
						<Texture parentKey="IconOverlay" hidden="true">
							<Size x="32" y="32"/>
							<Anchors>
								<Anchor point="CENTER"/>
							</Anchors>
						</Texture>
					</Layer>
				</Layers>
				<Scripts>
					<!-- <OnEnter>
						self:GetParent():LockHighlight();
						AuctionFrameItem_OnEnter(self, "owner", self:GetParent():GetID() + GetEffectiveAuctionsScrollFrameOffset());
					</OnEnter>
					<OnLeave>
						AuctionBrowseFrame_CheckUnlockHighlight(self, "owner", GetEffectiveAuctionsScrollFrameOffset());
						GameTooltip_Hide();
						ResetCursor();
					</OnLeave> -->
					<!-- <OnClick>
						if ( IsModifiedClick() ) then
							if ( not HandleModifiedItemClick(GetAuctionItemLink("owner", self:GetParent():GetID() + GetEffectiveAuctionsScrollFrameOffset())) ) then
								if ( IsModifiedClick("DRESSUP") ) then
									DressUpBattlePet(GetAuctionItemBattlePetInfo("owner", self:GetParent():GetID() + GetEffectiveAuctionsScrollFrameOffset()));
								end
							end
						else
							AuctionsButton_OnClick(self:GetParent());
						end
					</OnClick> -->
					<OnUpdate>
						<!-- if ( GameTooltip:IsOwned(self) ) then
							AuctionFrameItem_OnEnter(self, "owner", self:GetParent():GetID() + GetEffectiveAuctionsScrollFrameOffset());
						end -->
					</OnUpdate>
				</Scripts>
				<NormalTexture name="$parentNormalTexture" file="Interface\Buttons\UI-Quickslot2">
					<Size>
						<AbsDimension x="60" y="60"/>
					</Size>
					<Anchors>
						<Anchor point="CENTER">
							<Offset>
								<AbsDimension x="0" y="0"/>
							</Offset>
						</Anchor>
					</Anchors>
				</NormalTexture>
				<PushedTexture file="Interface\Buttons\UI-Quickslot-Depress"/>
				<HighlightTexture file="Interface\Buttons\ButtonHilight-Square" alphaMode="ADD"/>
			</Button>
			<EditBox name="$parentPrice" parentKey="Price" inherits="InputBoxTemplate" autoFocus="false">
				<Anchors>
					<Anchor point="LEFT" relativePoint="RIGHT" relativeTo="$parentName" x="20"/>
				</Anchors>
				<Size x="100" y="22"/>
				<Scripts>
					<OnTextChanged>
						self:GetParent():OnPriceChanged(userInput)
					</OnTextChanged>
				</Scripts>
			</EditBox>
		</Frames>
		<Scripts>
			<OnClick method="OnClick">

				<!-- if ( IsModifiedClick() ) then
					if ( not HandleModifiedItemClick(GetAuctionItemLink("owner", self:GetID() + GetEffectiveAuctionsScrollFrameOffset())) ) then
						if ( IsModifiedClick("DRESSUP") ) then
							DressUpBattlePet(GetAuctionItemBattlePetInfo("owner", self:GetID() + GetEffectiveAuctionsScrollFrameOffset()));
						end
					end
				else
					AuctionsButton_OnClick(self);
				end -->
			</OnClick>
		</Scripts>
		<HighlightTexture name="$parentHighlight" parentKey="Highlight" file="Interface\HelpFrame\HelpFrameButton-Highlight" alphaMode="ADD">
			<Size y="32" />
			<Anchors>
				<Anchor point="TOPLEFT">
					<Offset>
						<AbsDimension x="33" y="0"/>
					</Offset>
				</Anchor>
				<Anchor point="RIGHT" />
			</Anchors>
			<TexCoords left="0" right="1.0" top="0" bottom="0.578125"/>
		</HighlightTexture>
	</Button>
</Ui>